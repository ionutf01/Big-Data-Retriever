@page "/Models"
@model Birt.App.Pages.Models

<!DOCTYPE html>
<html lang="en">
<head>
    <title>Our Models</title>
    @* <script src="https://cdn.jsdelivr.net/npm/rdflib@2.2.0/dist/rdflib.min.js"></script> *@
    @* <script src="~/wwwroot/js/site.js"></script> *@
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .link {
            stroke: #999;
            stroke-opacity: 0.6;
            stroke-width: 1.5;
        }
        .link.hasPredicate {
            stroke: green;
        }
        .link.hasObject {
            stroke: orange;
        }
        .node circle {
            stroke: #fff;
            stroke-width: 1.5px;
        }
        .node.subject circle {
            fill: blue;
        }
        .node.predicate circle {
            fill: green;
        }
        .node.object circle {
            fill: red;
        }
        .node:hover circle {
            stroke: #000;
            stroke-width: 2.5px;
        }
        .node text {
            fill: #333;
        }
        .tooltip {
            position: absolute;
            text-align: center;
            width: auto;
            height: auto;
            padding: 5px;
            font: 12px sans-serif;
            background: lightsteelblue;
            border: 0px;
            border-radius: 8px;
            pointer-events: none;
        }
    </style>
</head>
<body>
<div>
    <h1>Our Models</h1>
    <p>Our models are built using Wikidataâ€™s SPARQL endpoint. This service allows you to query, compare, visualize, and share large sets of data and knowledge. The platform also provides recommendations for related information in different languages. Through the use of big data techniques, we offer insights and summaries on topics such as the influences of fine arts, dance, and music in specific regions over recent years.</p>
    <h2>Possible Queries</h2>
    <select id="queryDropdown">
        <option value="gogh">Get works of art for Vincent van Gogh</option>
        <option value="vinci">Get works of art for Leonardo da Vinci</option>
        <option value="similar-gogh">Get similar artists to Vincent van Gogh</option>
        <option value="similar-vinci">Get similar artists to Leonardo da Vinci</option>
        <option value="influencedByGogh">Get artists influenced by Vincent van Gogh</option>
        <option value="paintingInfluencesbetween1850and1900">Get artists influences between 1850 and 1900</option>
        <option value="paintingsInfluencedByGogh">Get paintings influenced by Van Gogh</option>
    </select>
    <button id="allworksofart" class="btn btn-primary">Get Results</button>
    <div id="loading" style="display: none;">
        <div class="spinner"></div>
        Loading data...
    </div>

    <button id="showVisualization" class="btn btn-primary" style="display: none;">Show Visualization</button>
    <button id="closeVisualization" class="btn btn-secondary" style="display: none;" onclick="closeVisualization()">Close Visualization</button>
    <svg id="visualization" width="960" height="600" style="display: none;"></svg>

    <div id="criteria-form" style="display: none; margin-top: 20px;">
        <h2>Select Criteria</h2>
        <form>
            <label>
                Artistic Movement:
                <select id="movement">
                    <option value="">-- Select Movement --</option>
                    <option value="Q166713">Post-Impressionism</option>
                    <option value="Q5592">Impressionism</option>
                    <option value="Q23489">Cubism</option>
                    <option value="Q4692">Renaissance</option>    
                    <option value="Q1474884">High Renaissance</option>
                </select>
            </label>
            <br>
            <label>
                Occupation:
                <select id="occupation">
                    <option value="">-- Select Occupation --</option>
                    <option value="Q1028181">Painter</option>
                    <option value="Q1281618">Sculptor</option>
                    <option value="Q33231">Photographer</option>
                </select>
            </label>
            <br>
            <label>
                Country:
                <select id="country">
                    <option value="">-- Select Country --</option>
                    <option value="Q30">United States</option>
                    <option value="Q142">France</option>
                    <option value="Q183">Germany</option>
                </select>
            </label>
            <br>
            <button id="handlequery" type="button" class="btn btn-primary">Search</button>
        </form>
    </div>

    <h2>Results</h2>
    <ul id="results"></ul>
    <div id="comparison"></div>
    <script type="module">
        import { toggleCriteriaForm, getWorksOfArt, handleQuery, visualizeRDFDataImproved, closeVisualization } from '/js/main.js';
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById("allworksofart").addEventListener("click", getWorksOfArt);
            document.getElementById("queryDropdown").addEventListener("change", toggleCriteriaForm);
            document.getElementById("handlequery").addEventListener("click", handleQuery);

            document.getElementById('showVisualization').addEventListener('click', () => {
                document.getElementById('visualization').style.display = 'block';
                document.getElementById('closeVisualization').style.display = 'block';
                visualizeRDFDataImproved();
            });
            document.getElementById('closeVisualization').addEventListener('click', () => {
                closeVisualization();
            });
        });
    </script>
    
    

</div>
</body>
</html>

